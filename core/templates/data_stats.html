{% extends "base.html" %}
{% block content %}
<h2>Statistics</h2>

<h3>Overall</h3>
<ul>
  <li>Total records: {{ stats.total_records|default:0 }}</li>
  <li>Average weight: {{ stats.avg_weight|floatformat:2 }}</li>
  <li>Max weight: {{ stats.max_weight|default_if_none:"-" }}</li>
  <li>Min weight: {{ stats.min_weight|default_if_none:"-" }}</li>
  <li>Average steps: {{ stats.avg_steps|floatformat:0|default_if_none:"-" }}</li>
  <li>Max steps: {{ stats.max_steps|default_if_none:"-" }}</li>
  <li>Average calories: {{ stats.avg_calories|floatformat:0|default_if_none:"-" }}</li>
  <li>Max calories: {{ stats.max_calories|default_if_none:"-" }}</li>
</ul>

<h3>Last 30 Days</h3>
<ul>
  <li>Records: {{ recent_stats.recent_records|default:0 }}</li>
  <li>Avg weight: {{ recent_stats.recent_avg_weight|floatformat:2 }}</li>
  <li>Avg steps: {{ recent_stats.recent_avg_steps|floatformat:0|default_if_none:"-" }}</li>
  <li>Avg calories: {{ recent_stats.recent_avg_calories|floatformat:0|default_if_none:"-" }}</li>
</ul>

<h3>Range</h3>
<ul>
  <li>First record:
    {% if first_record %} {{ first_record.date }} ({{ first_record.weight }} kg) {% else %} - {% endif %}
  </li>
  <li>Latest record:
    {% if latest_record %} {{ latest_record.date }} ({{ latest_record.weight }} kg) {% else %} - {% endif %}
  </li>
</ul>

<p>
  <a href="{% url 'data_list' %}">View Records</a>
  <span style="margin:0 8px">|</span>
  <a href="{% url 'dashboard' %}">View Chart</a>
</p>
{% endblock %}
